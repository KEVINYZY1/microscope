<div id="left">
    <div class="trace-side">
        <form role="form" class="form-vertical span12" ng-submit="query()">
            <div class="form-group">
                <label class="control-label" for="app-list">APP</label>
                <select id="app-list" class="form-control input-sm" ng-model="queryApp" ng-change="bindIP()"  ng-options="a for a in appList"></select>
            </div>
             <div class="form-group">
                <label class="control-label" for="ip-list">IP</label>
                <select id="ip-list" class="form-control input-sm" ng-model="queryIP" ng-change="query()"  ng-options="a for a in ipList"></select>
            </div>
            <div class="form-group">
                <label class="control-label" for="query-start-date">开始时间</label>
                <input ui-date-picker="dateOptions" ng-model="queryStartDate" id="query-start-date" class="form-control input-sm" type="text" />
            </div>
            <div class="form-group">
                <div class="bootstrap-timepicker">
                    <input ui-time-picker="timeOptions" ng-model="queryStartTime" class="form-control input-sm" type="text" />
                </div>
            </div>
            <div class="form-group">
                <label class="control-label" for="query-end-date">结束时间</label>
                <input ui-date-picker="dateOptions" ng-model="queryEndDate" id="query-end-date" class="form-control input-sm" type="text" />
            </div>
            <div class="form-group">
                <div class="bootstrap-timepicker">
                    <input ui-time-picker="timeOptions" ng-model="queryEndTime" class="form-control input-sm" type="text" />
                </div>
            </div>
            <div class="form-group">
                <label class="control-label" for="limit-count">显示数量</label>
                <input ng-model="limitCount" required ui-validate=" '$value > 0' " type="number" class="form-control input-sm" id="limit-count" />
            </div>
            <div class="form-group">
                <input class="btn btn-primary btn-block btn-sm" type="submit" ng-disabled="querying" value="查询" />
            </div>
            <div class="side-loading"></div>
        </form>
    </div>
</div>
<div id="main">
    <div class="container-fluid">
        <div class="page-header">
            <div class="pull-left">
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive">
                    <table class="table table-hover table-bordered table-service table-trace" style="">
                        <thead>
                            <tr>
                                <th>
                                    Name
                                </th>
                                <th style="width:150px" class="sorting" ng-click="predicate = 'Date'; reverse=!reverse;" ng-class="{'sorting': predicate!='Date', sorting_asc:predicate=='Date' && reverse,sorting_desc:predicate=='Date' && !reverse}">Date</th>
                                <th>
                                    Stack
                                </th>
                                <th>
                                    Debug
                                </th>
                                <th>
                                    TraceId
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat-start="result in resultList | orderBy:predicate:!reverse" >
                                <td>
                                    {{ result.Name }}
                                </td>
                                <td>
                                    {{ result.Date * 1000 | getDateTime}}
                                </td>
                                <td>
                                    <div class="exception-stack">
                                        <p ng-repeat="stack in result.StackList track by $index">{{ stack }}</p>
                                    </div>
                                </td>
                                <td>
                                    {{ result.Debug }}
                                </td>
                                 <td>
                                   <a href="javascript:;" ng-click="showDetail(result.TraceId)">{{ result.TraceId }}</a>
                                </td>
                            </tr>
                            <tr ng-repeat-end class="tr-nohover" id="{{'detail' + result.TraceId}}">
                                <td colspan="5"></td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>

        </div>

    </div>
</div>
<script src="js/common/frame.js"></script>
